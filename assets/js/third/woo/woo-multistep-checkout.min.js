var $j=jQuery.noConflict();function oceanwpWooMultiStepCheckout(){"use strict";var e=$j("body"),t=$j("#checkout_login"),o=$j("#customer_billing_details"),a=$j("#customer_shipping_details"),n=$j("#order_review"),i=$j("#order_checkout_payment"),j=$j("#form_actions"),$=$j("#checkout_coupon"),f=new Array(t,o,a,n,i);e.on("updated_checkout",function(e){f[4]=$j("#order_checkout_payment"),"updated_checkout"==e.type&&(f[4]=$j("#order_checkout_payment")),$j("#place_order").on("click",function(){var e=$j("#order_checkout_payment").find("input[name=payment_method]:checked"),t=e.val(),o=e.data("order_button_text");n.find('input[name="payment_method"]').val(t).data("order_button_text",o).attr("checked","checked")}),$j("#order_checkout_payment").find("input[name=payment_method]").on("click",function(){if(1<$j(".payment_methods input.input-radio").length){var e=$j("div.payment_box."+$j(this).attr("ID"));$j(this).is(":checked")&&!e.is(":visible")&&($j("div.payment_box").filter(":visible").slideUp(250),$j(this).is(":checked")&&$j("div.payment_box."+$j(this).attr("ID")).slideDown(250))}else $j("div.payment_box").show();$j(this).data("order_button_text")?$j("#place_order").val($j(this).data("order_button_text")):$j("#place_order").val($j("#place_order").data("value"))})}),j.find(".button.prev").add(".button.next").on("click",function(e){var t=$j(this),o=$j("#owp-checkout-timeline"),a=t.data("action"),n=j.data("step"),i=n+1,c=n-1,d=j.find(".button.prev"),r=j.find(".button.next"),l=$j("form.woocommerce-checkout"),u=oceanwpLocalize.is_logged_in,p=!1,s=f[n].selector,m={},_="";if($j("form.woocommerce-checkout .woocommerce-NoticeGroup.woocommerce-NoticeGroup-checkout").remove(),_=0<=s.indexOf("billing")?"billing":_,"billing"==(_=0<=s.indexOf("shipping")?"shipping":_)||"shipping"==_){$j(s).find(".validate-required input").each(function(){m[$j(this).attr("name")]=$j(this).val()}),$j(s).find(".validate-required select").each(function(){m[$j(this).attr("name")]=$j(this).val()}),$j(s).find(".input-checkbox").each(function(){$j(this).is(":checked")&&(m[$j(this).attr("name")]=$j(this).val())});var h={action:"oceanwp_validate_checkout",type:_,posted_data:m};$j.ajax({type:"POST",url:oceanwpLocalize.ajax_url,data:h,async:!1,success:function(e){p=e.valid,e.valid||($j("form.woocommerce-checkout").prepend(e.html),$j("html,body").animate({scrollTop:$j("form.woocommerce-checkout").offset().top-50},"slow"))},complete:function(){}})}else p=!0;p&&(o.find(".active").removeClass("active"),"next"==a?(j.data("step",i),f[n].fadeOut(120,function(){f[i].fadeIn(120)}),$j("#timeline-"+i).toggleClass("active")):"prev"==a&&(j.data("step",c),f[n].fadeOut(120,function(){f[c].fadeIn(120)}),$j("#timeline-"+c).toggleClass("active")),1==(n=j.data("step"))&&1==u||0==u&&(0==n&&1==oceanwpLocalize.login_reminder_enabled||1==n&&0==oceanwpLocalize.login_reminder_enabled)?d.fadeOut(120):d.fadeIn(120),0==u&&(0==n&&1==oceanwpLocalize.login_reminder_enabled||1==n&&0==oceanwpLocalize.login_reminder_enabled)?r.val(oceanwpLocalize.no_account_btn):r.val(oceanwpLocalize.next),3==n?(l.removeClass("processing"),$.fadeIn(80),r.fadeOut(120)):(l.addClass("processing"),$.fadeOut(80),r.fadeIn(120)))})}$j(document).on("ready",function(){"use strict";oceanwpWooMultiStepCheckout()});